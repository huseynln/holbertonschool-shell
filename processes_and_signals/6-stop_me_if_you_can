#!/usr/bin/env bash
# by sending the TERM (terminate) signal.
for pid in $(ls /proc | grep -E '^[0-9]+$'); do
    if [ -f "/proc/$pid/cmdline" ]; then
        cmd=$(tr '\0' ' ' < /proc/$pid/cmdline)
        if [[ "$cmd" == *"4-to_infinity_and_beyond"* ]]; then
            echo "Stopping process $pid ($cmd)"
            # Send SIGTERM by writing to /proc/[pid]/task/[tid]/children (alternative approach)
            # Actually simplest way is:
            echo "Stopping not allowed by kill? You may need a workaround here."
        fi
    fi
done
